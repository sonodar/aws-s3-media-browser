# Requirements Document - Phase 2

## Introduction

本ドキュメントは、S3 メディアブラウザ Phase 2 の要件を定義する。Phase 1 で実装した基本機能（認証、ファイルブラウジング、アップロード、削除）に加え、メディアプレビュー機能とUI改善を実装する。

## Requirements

### Requirement 1: 画像プレビュー機能

**Objective:** As a ユーザー, I want 画像ファイルをクリックしてプレビュー表示したい, so that ダウンロードせずに内容を確認できる

#### Acceptance Criteria

1. When ユーザーが画像ファイル（jpg, png, gif, webp）をクリックした場合, the メディアブラウザ shall モーダルダイアログで画像をフルサイズ表示する
2. When プレビューモーダルが表示されている場合, the メディアブラウザ shall 閉じるボタンまたはモーダル外クリックで閉じられるようにする
3. When プレビューモーダルが表示されている場合, the メディアブラウザ shall 前後の画像に移動できるナビゲーションを提供する
4. While 画像を読み込み中の場合, the メディアブラウザ shall ローディングインジケータを表示する
5. If 画像の読み込みに失敗した場合, the メディアブラウザ shall エラーメッセージを表示する

### Requirement 2: 動画プレビュー機能

**Objective:** As a ユーザー, I want 動画ファイルをクリックして再生したい, so that ダウンロードせずに内容を確認できる

#### Acceptance Criteria

1. When ユーザーが動画ファイル（mp4, webm, mov）をクリックした場合, the メディアブラウザ shall モーダルダイアログで動画プレーヤーを表示する
2. When 動画プレーヤーが表示されている場合, the メディアブラウザ shall 再生/一時停止、シーク、音量調整のコントロールを提供する
3. When プレビューモーダルを閉じた場合, the メディアブラウザ shall 動画の再生を停止する
4. While 動画を読み込み中の場合, the メディアブラウザ shall ローディングインジケータを表示する
5. If 動画の読み込みに失敗した場合, the メディアブラウザ shall エラーメッセージを表示する

### Requirement 3: サムネイル表示

**Objective:** As a ユーザー, I want ファイル一覧で画像のサムネイルを見たい, so that ファイルの内容を素早く識別できる

#### Acceptance Criteria

1. When ファイル一覧を表示する場合, the メディアブラウザ shall 画像ファイルにはサムネイルを表示する
2. When サムネイルを表示する場合, the メディアブラウザ shall 適切なサイズ（例: 48x48px）にリサイズして表示する
3. While サムネイルを読み込み中の場合, the メディアブラウザ shall プレースホルダーアイコンを表示する
4. If サムネイルの読み込みに失敗した場合, the メディアブラウザ shall デフォルトのファイルアイコンを表示する
5. The メディアブラウザ shall 動画ファイルには動画アイコンを表示する（サムネイル生成は対象外）

### Requirement 4: UI カスタマイズ

**Objective:** As a ユーザー, I want 見やすく統一されたデザインで利用したい, so that 快適にメディアを管理できる

#### Acceptance Criteria

1. The メディアブラウザ shall Amplify UI テーマを適用してブランドカラーを設定する
2. The メディアブラウザ shall ダークモード/ライトモードの切り替え機能を提供する
3. The メディアブラウザ shall ヘッダーにアプリケーション名とユーザー情報を表示する
4. The メディアブラウザ shall 一貫したアイコンセットを使用する

## Out of Scope

以下の機能は本フェーズの対象外とする：

- 画像編集機能（トリミング、回転等）
- 動画編集機能
- ファイル共有機能
- ファイル検索機能
- オフラインサポート
- グリッド/リスト表示切替（StorageBrowser 標準表示を使用）
